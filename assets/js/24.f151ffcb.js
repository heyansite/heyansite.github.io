(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{441:function(s,t,a){s.exports=a.p+"assets/img/splunkstart2-1.95b6247e.png"},442:function(s,t,a){s.exports=a.p+"assets/img/splunkstart2-2.83af6dd9.png"},443:function(s,t,a){s.exports=a.p+"assets/img/splunkstart2-3.9ed25b01.png"},444:function(s,t,a){s.exports=a.p+"assets/img/splunkstart2-4.5bf1c3f4.png"},445:function(s,t,a){s.exports=a.p+"assets/img/splunkstart2-5.fab181cd.png"},446:function(s,t,a){s.exports=a.p+"assets/img/splunkstart2-6.62efa839.png"},447:function(s,t,a){s.exports=a.p+"assets/img/splunkstart2-7.99851b69.png"},763:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"splunk-fundamentals-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#splunk-fundamentals-2"}},[s._v("#")]),s._v(" Splunk Fundamentals 2")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("参考")]),s._v(" "),e("ul",[e("li",[s._v("官网付费Course ("),e("em",[s._v("based on version: 7.x")]),s._v(")")])])]),s._v(" "),e("h2",{attrs:{id:"beyond-search-fundamentals"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#beyond-search-fundamentals"}},[s._v("#")]),s._v(" Beyond Search Fundamentals")]),s._v(" "),e("h3",{attrs:{id:"basic-search-review"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#basic-search-review"}},[s._v("#")]),s._v(" Basic Search Review")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("Keywords")]),s._v(" : For example, search for a single word (e.g., error) or group of words (e.g., error password)")]),s._v(" "),e("li",[e("strong",[s._v("Booleans")]),s._v(" : NOT, OR, AND; AND is implied; MUST be uppercase; can use ( )’s to force precedence sourcetype=vendor_sales OR (sourcetype=access_combined action=purchase)")]),s._v(" "),e("li",[e("strong",[s._v("Phrases")]),s._v(' : "web error" (different than web AND error)')]),s._v(" "),e("li",[e("strong",[s._v("Field searches")]),s._v(" : status=404, user=admin")]),s._v(" "),e("li",[e("strong",[s._v("Wildcard (*)")]),s._v(" "),e("ul",[e("li",[s._v("status=40* matches 40, 40a, 404, etc.")]),s._v(" "),e("li",[s._v("Starting keywords with a wildcard is very inefficient, e.g. *"),e("strong",[s._v("dmin")])])])]),s._v(" "),e("li",[e("strong",[s._v("Comparisons")]),s._v(" : =, !=, <, <=, >=, > status>399, user!=admin")])]),s._v(" "),e("h4",{attrs:{id:"basic-search-review-cont"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#basic-search-review-cont"}},[s._v("#")]),s._v(" Basic Search Review (cont.)")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("table")]),s._v(": returns table containing only specified fields in result set • rename: renames a field in results")]),s._v(" "),e("li",[e("strong",[s._v("fields")]),s._v(": includes or excludes specified fields")]),s._v(" "),e("li",[e("strong",[s._v("dedup")]),s._v(": removes duplicates from results")]),s._v(" "),e("li",[e("strong",[s._v("sort")]),s._v(": sorts results by specified field")]),s._v(" "),e("li",[e("strong",[s._v("lookup")]),s._v(": adds field values from external source (e.g., csv files)")])]),s._v(" "),e("h3",{attrs:{id:"transforming-search-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transforming-search-commands"}},[s._v("#")]),s._v(" Transforming Search Commands")]),s._v(" "),e("ul",[e("li",[s._v("A transforming command:\n"),e("ul",[e("li",[s._v("Massages raw data into a data table")]),s._v(" "),e("li",[s._v("'Transforms' specified cell values for each event into numerical values that you can use for statistical purposes")]),s._v(" "),e("li",[s._v("Is required to 'transform' search results into visualizations")])])]),s._v(" "),e("li",[s._v("Transforming commands include:\n"),e("ul",[e("li",[e("strong",[s._v("top")])]),s._v(" "),e("li",[e("strong",[s._v("rare")])]),s._v(" "),e("li",[e("strong",[s._v("chart")])]),s._v(" "),e("li",[e("strong",[s._v("timechart – stats")])]),s._v(" "),e("li",[e("strong",[s._v("geostats")])])])])]),s._v(" "),e("h3",{attrs:{id:"case-sensitivity-–-sensitive"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#case-sensitivity-–-sensitive"}},[s._v("#")]),s._v(" Case Sensitivity – Sensitive")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("Case sensitive")]),s._v(" "),e("th",[s._v("Examples")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("Boolean operators (uppercase)")]),s._v(" "),e("td",[s._v("AND, OR, NOT (Boolean operators) and, or, not (literal keywords)")])]),s._v(" "),e("tr",[e("td",[s._v("Field names")]),s._v(" "),e("td",[s._v('productId vs. productid  eval cs_username = "Total Access"')])]),s._v(" "),e("tr",[e("td",[s._v("Field values from lookup (default, but configurable)")]),s._v(" "),e("td",[s._v('product_name="Tulip Bouquet" vs. product_name="tulip bouquet"')])]),s._v(" "),e("tr",[e("td",[s._v("Regular expressions ]")]),s._v(" "),e("td",[s._v("\\d\\d\\d vs. \\D\\D\\D")])]),s._v(" "),e("tr",[e("td",[s._v("eval and where commands")]),s._v(" "),e("td",[s._v('eval action=if(action=="view",...) where action="Purchase"  stats count(eval(action="view") as...')])]),s._v(" "),e("tr",[e("td",[s._v("Tags")]),s._v(" "),e("td",[s._v("tag=DMZ vs. tag=dmz")])])])]),s._v(" "),e("h3",{attrs:{id:"case-sensitivity-–-insensitive"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#case-sensitivity-–-insensitive"}},[s._v("#")]),s._v(" Case Sensitivity – Insensitive")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("Case insensitive")]),s._v(" "),e("th",[s._v("Examples")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("Command names")]),s._v(" "),e("td",[e("code",[s._v("STATS, stats, sTaTs")])])]),s._v(" "),e("tr",[e("td",[s._v("Command clauses")]),s._v(" "),e("td",[e("code",[s._v("AS used by stats, rename, ...; BY used by stats, chart, top, ...; WITH used by replace")])])]),s._v(" "),e("tr",[e("td",[s._v("Search terms")]),s._v(" "),e("td",[e("code",[s._v("failed, FAILED, Failed")])])]),s._v(" "),e("tr",[e("td",[s._v("Statistical functions")]),s._v(" "),e("td",[e("code",[s._v("avg, AVG, Avg used by stats, chart, ...")])])]),s._v(" "),e("tr",[e("td",[s._v("Field values")]),s._v(" "),e("td",[e("code",[s._v("host=www1, host=WWW1")]),s._v(" \t\t\t\t\t\t\t(unless coming from a lookup)")])])])]),s._v(" "),e("h3",{attrs:{id:"how-splunk-searches-–-buckets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-splunk-searches-–-buckets"}},[s._v("#")]),s._v(" How Splunk Searches – Buckets")]),s._v(" "),e("ul",[e("li",[s._v("As events come in, Splunk places them into an index's hot bucket (only writable bucket)")]),s._v(" "),e("li",[s._v("As buckets age, they roll from the hot to warm to cold")]),s._v(" "),e("li",[s._v("Each bucket has its own raw data, metadata, and index files")]),s._v(" "),e("li",[s._v("Metadata files track source, sourcetype, and host")]),s._v(" "),e("li",[s._v("Admins can add more")])]),s._v(" "),e("h3",{attrs:{id:"how-splunk-searches-–-searching"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-splunk-searches-–-searching"}},[s._v("#")]),s._v(" How Splunk Searches – Searching")]),s._v(" "),e("ul",[e("li",[s._v("When you search, Splunk uses the time range to choose which buckets to search and then uses the bucket indexes to find qualifying events")]),s._v(" "),e("li",[s._v("When you search for "),e("code",[s._v("index=web password fail*")]),s._v(" during the last 24 hours:\n"),e("ul",[e("li",[s._v("Splunk identifies the buckets for the last 24 hours\n"),e("ul",[e("li",[s._v("And searches the indexes of those buckets for the search terms")])])])])])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("Hot: Now to -3h")]),s._v(" "),e("th",[s._v("index")]),s._v(" "),e("th",[s._v("raw events")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[e("font",{attrs:{color:"red"}},[s._v("Hot: -3 to -6h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"red"}},[s._v("Hot: -5 to -8h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"orange"}},[s._v("Warm: -9 to -12h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"orange"}},[s._v("Warm: -12 to -15h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"orange"}},[s._v("Warm: -14 to -17h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[s._v(".....")]),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"orange"}},[s._v("Warm: -42 to -45h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"orange"}},[s._v("Warm: -45 to -48h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"blue"}},[s._v("Cold: -48 to -51h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"blue"}},[s._v("Cold: -51 to -54h")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])]),s._v(" "),e("tr",[e("td",[e("font",{attrs:{color:"blue"}},[s._v("Cold: -54 to -57h...")])],1),s._v(" "),e("td",[s._v("index")]),s._v(" "),e("td",[s._v("raw events")])])])]),s._v(" "),e("h3",{attrs:{id:"general-search-practices-推荐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-search-practices-推荐"}},[s._v("#")]),s._v(" General Search Practices (推荐)")]),s._v(" "),e("ul",[e("li",[s._v("As events are stored by time, time is the most efficient filter")]),s._v(" "),e("li",[s._v("After time, most powerful keywords are host, source, sourcetype")]),s._v(" "),e("li",[s._v("To make searches more efficient, include as many terms as possible - e.g., searching for sourcetype="),e("em",[s._v("x")]),s._v(" failure is better than failure")]),s._v(" "),e("li",[s._v("Use the fields command to extract (discover) only fields you need\n"),e("blockquote",[e("p",[s._v("Example: Search last 365 days, scans 566,720 events (in secs):")]),s._v(" "),e("p",[e("code",[s._v("index=web sourcetype=access_combined")]),s._v(" \t15.16")]),s._v(" "),e("p",[e("code",[s._v("index=web sourcetype=access_combined | fields clientip bytes referrer")]),s._v(" \t4.49")])])]),s._v(" "),e("li",[s._v("Inclusion is generally better than exclusion")]),s._v(" "),e("li",[s._v('Searching for "access denied" is faster than'),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('   NOT "access granted"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[s._v("Filter as early in your search as possible")]),s._v(" "),e("li",[s._v("Removing duplicates then sorting is faster than sorting then removing duplicates")]),s._v(" "),e("li",[s._v("Use the appropriate search mode\n"),e("ul",[e("li",[s._v("Fast - performance over completeness")]),s._v(" "),e("li",[s._v("Smart [default]")]),s._v(" "),e("li",[s._v("Verbose - completeness over performance")])])])]),s._v(" "),e("p",[e("strong",[s._v("Wildcards")])]),s._v(" "),e("ul",[e("li",[s._v("Splunk only searches for whole words, but wildcards allowed")]),s._v(" "),e("li",[s._v("Only "),e("em",[s._v("trailing")]),s._v(" wildcards make efficient use of index\n"),e("ul",[e("li",[s._v("Wildcards at "),e("em",[s._v("beginning")]),s._v(" of string scan all events within time frame")]),s._v(" "),e("li",[s._v("Wildcards in "),e("em",[s._v("middle")]),s._v(" of string may return inconsistent results – So use fail* (not "),e("em",[s._v("fail or "),e("em",[s._v("fail")]),s._v(" or f")]),s._v("il)")])])]),s._v(" "),e("li",[s._v("Wildcards tested after all other terms")])]),s._v(" "),e("h3",{attrs:{id:"reviewing-search-mode-–-fast-smart-verbose"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reviewing-search-mode-–-fast-smart-verbose"}},[s._v("#")]),s._v(" Reviewing Search Mode – Fast/Smart/Verbose")]),s._v(" "),e("h4",{attrs:{id:"fast-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fast-mode"}},[s._v("#")]),s._v(" Fast Mode")]),s._v(" "),e("ul",[e("li",[s._v("Emphasizes performance, returning only essential and required data")]),s._v(" "),e("li",[s._v("For non-transforming searches:\n"),e("ul",[e("li",[s._v("✓ Events – fields sidebar displays only those fields required for the search")]),s._v(" "),e("li",[s._v("✓ Patterns")]),s._v(" "),e("li",[s._v("✗ Statistics or visualizations")])])]),s._v(" "),e("li",[s._v("Contents of interesting fields sidebar are lost")]),s._v(" "),e("li",[s._v("For transforming searches:\n"),e("ul",[e("li",[s._v("✗ Events")]),s._v(" "),e("li",[s._v("✗ Patterns")]),s._v(" "),e("li",[s._v("✓ Statistics or visualizations")])])])]),s._v(" "),e("h4",{attrs:{id:"smart-mode-default"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#smart-mode-default"}},[s._v("#")]),s._v(" Smart Mode (Default)")]),s._v(" "),e("ul",[e("li",[s._v("Designed to give you the best results for your search")]),s._v(" "),e("li",[s._v("Combination of Fast and Verbose modes")]),s._v(" "),e("li",[s._v("For non-transforming searches [Verbose]:\n"),e("ul",[e("li",[s._v("✓ Events – fields sidebar displays all fields")]),s._v(" "),e("li",[s._v("✓ Patterns")]),s._v(" "),e("li",[s._v("✗ Statistics or visualizations")])])]),s._v(" "),e("li",[s._v("For transforming searches:\n"),e("ul",[e("li",[s._v("✗ Events")]),s._v(" "),e("li",[s._v("✗ Patterns")]),s._v(" "),e("li",[s._v("✓ Statistics or visualizations")])])])]),s._v(" "),e("h4",{attrs:{id:"verbose-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#verbose-mode"}},[s._v("#")]),s._v(" Verbose Mode")]),s._v(" "),e("ul",[e("li",[s._v("Emphasizes completeness by returning all possible field and event data")]),s._v(" "),e("li",[s._v("For non-transforming searches:\n"),e("ul",[e("li",[s._v("✓ Events – fields sidebar displays all fields")]),s._v(" "),e("li",[s._v("✓ Patterns")]),s._v(" "),e("li",[s._v("✗ Statistics or visualizations")])])]),s._v(" "),e("li",[s._v("For transforming searches:\n"),e("ul",[e("li",[s._v("✓ Events")]),s._v(" "),e("li",[s._v("✓ Patterns")]),s._v(" "),e("li",[s._v("✓ Statistics or visualizations")])])])]),s._v(" "),e("h4",{attrs:{id:"modes-summary"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modes-summary"}},[s._v("#")]),s._v(" Modes Summary")]),s._v(" "),e("ul",[e("li",[s._v("Use the most appropriate search mode:")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("  index=web sourcetype=access_combined\n  | chart count by product_name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("Time range: last 365 days\n| Mode     | Returned Results | Events Scanned | Time |\n| ----------------------- | ---------- |---------- | ---------- |\n|   Fast  | 14 | 566,731 | 1.82 |\n|   Smart  | 14 | 566,731 | 1.91 |\n|   Verbose  | 14 | 566,731 | 15.21 |")])]),s._v(" "),e("h3",{attrs:{id:"search-performance-–-types-of-searches"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#search-performance-–-types-of-searches"}},[s._v("#")]),s._v(" Search Performance – Types of Searches")]),s._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"150%",display:"block"},attrs:{src:a(441),alt:"",align:"left"}})]),s._v(" "),e("h3",{attrs:{id:"search-job-inspector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#search-job-inspector"}},[s._v("#")]),s._v(" Search Job Inspector")]),s._v(" "),e("ul",[e("li",[s._v("Tool allows you to examine:\n"),e("ul",[e("li",[s._v("Overall stats of search (e.g., records processed and returned, processing time)")]),s._v(" "),e("li",[s._v("How search was processed – Where Splunk spent its time")])])]),s._v(" "),e("li",[s._v("Use to troubleshoot search’s performance and understand impact of knowledge objects on processing (e.g., event types, tags, lookups)")]),s._v(" "),e("li",[s._v("Any existing (i.e., not expired) search job can be inspected")])]),s._v(" "),e("h4",{attrs:{id:"_3-components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-components"}},[s._v("#")]),s._v(" 3 Components")]),s._v(" "),e("ul",[e("li",[s._v("Header\n"),e("ul",[e("li",[s._v("Top of Search job inspector provides basic information, including time to run and # of events scanned")])])]),s._v(" "),e("li",[s._v("Execution costs\n"),e("ul",[e("li",[s._v("Provides details on cost to retrieve results, such as:\n"),e("ul",[e("li",[e("code",[s._v("command.search.index")]),s._v(": Time to search the index for the location to read in rawdata files")]),s._v(" "),e("li",[e("code",[s._v("command.search.filter")]),s._v(": Time to filter out events that do not match")]),s._v(" "),e("li",[e("code",[s._v("command.search.rawdata")]),s._v(": Time to read events from the rawdata files")])])])])]),s._v(" "),e("li",[s._v("Search job properties\n"),e("ul",[e("li",[s._v("Example: "),e("code",[s._v("index=sales sourcetype=vendor_sales VendorID>=7000 AND VendorID<9000")])]),s._v(" "),e("li",[s._v("Produces scanCount of 127,201 events")]),s._v(" "),e("li",[s._v("Returns resultCount of 2,144 in 3.01 seconds")]),s._v(" "),e("li",[s._v("To calculate performance:\n"),e("ul",[e("li",[s._v("Do not use resultCount/time 2,144 / 3.01 = 712 EPS* (* EPS= events per second)")]),s._v(" "),e("li",[s._v("Rather, calculate scanCount/time 127,201/ 3.01 = 40,892 EPS")])])])])])]),s._v(" "),e("h2",{attrs:{id:"commands-for-visualizations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commands-for-visualizations"}},[s._v("#")]),s._v(" Commands for Visualizations")]),s._v(" "),e("h3",{attrs:{id:"visualization-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#visualization-types"}},[s._v("#")]),s._v(" Visualization Types")]),s._v(" "),e("p",[s._v("When a search returns statistical values, results can be viewed with a wide variety of visualization types")]),s._v(" "),e("ul",[e("li",[s._v("Statistics table")]),s._v(" "),e("li",[s._v("Charts: Line, column, pie, etc")]),s._v(" "),e("li",[s._v("Single value, gauges")]),s._v(" "),e("li",[s._v("Maps")]),s._v(" "),e("li",[s._v("Many more")])]),s._v(" "),e("h3",{attrs:{id:"chart-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chart-command"}},[s._v("#")]),s._v(" chart Command")]),s._v(" "),e("ul",[e("li",[s._v("chart command can display any series of data that you want to plot")]),s._v(" "),e("li",[s._v("You decide which field to plot on the x-axis\n"),e("ul",[e("li",[s._v("The function defines the value of the y-axis, therefore it should be numeric – The first field after the over clause is the x-axis")]),s._v(" "),e("li",[s._v("Using the over and by clauses divides the data into sub-groupings\n"),e("ul",[e("li",[s._v("The values from the by clause display in the legend")])])])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("chart "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" host\n– The host "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" display "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" the x"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("axis\n\nchart "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" host "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name\n– The host field "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" the x"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("axis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" the series "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" further split "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("examples:")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* over field */")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" vendor_action\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* over field by field */")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//- You can use the by clause with the over clause to split results (over vendor_action by user)")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//- Alternatively, you can just use two by clauses (by vendor_action, user)")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//- You can only split chart results over TWO dimensions (unlike stats results)")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" vendor_action "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v("\n \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h4",{attrs:{id:"including-null-and-other-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#including-null-and-other-values"}},[s._v("#")]),s._v(" Including NULL and OTHER Values")]),s._v(" "),e("ul",[e("li",[s._v("chart and timechart commands automatically filter results to include the ten highest values\n"),e("ul",[e("li",[s._v("Surplus values are grouped into OTHER")])])]),s._v(" "),e("li",[s._v("In this example, the results are skewed by NULL and OTHER\n"),e("ul",[e("li",[s._v("These values are shown by default")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("399")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" host "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" itemId\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"omitting-null-and-other-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#omitting-null-and-other-values"}},[s._v("#")]),s._v(" Omitting NULL and OTHER Values")]),s._v(" "),e("ul",[e("li",[s._v("To remove empty (NULL) and OTHER field values from the display, use these options:\n"),e("ul",[e("li",[s._v("useother=f")]),s._v(" "),e("li",[s._v("usenull=f")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("399")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" host "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" itemId useother"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("f usenull"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("f\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"limiting-the-number-of-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#limiting-the-number-of-values"}},[s._v("#")]),s._v(" Limiting the Number of Values")]),s._v(" "),e("ul",[e("li",[s._v("To adjust the number of plotted series, use the limit argument")]),s._v(" "),e("li",[s._v("For unlimited values, use limit=0")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchase "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" host "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" useother"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("f\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"timechart-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#timechart-command"}},[s._v("#")]),s._v(" timechart Command")]),s._v(" "),e("ul",[e("li",[s._v("timechart command performs statistical aggregations against time")]),s._v(" "),e("li",[s._v("Plots and trends data over time")]),s._v(" "),e("li",[s._v("_time is always the x-axis")]),s._v(" "),e("li",[s._v("You can optionally split data using the by clause for one other field - Each distinct value of the split by field is a separate series in the chart")]),s._v(" "),e("li",[s._v("Timecharts are best represented as line or area charts")])]),s._v(" "),e("p",[s._v("Examples:")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cisco_wsa_squid "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("usage")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Violation\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" timechart count\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* Multiple Values */")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cisco_wsa_squid\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" timechart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("usage")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* other settings: \n\n    Multi-series: No\n    Multi-series: Yes\n\n*/")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h4",{attrs:{id:"adjusting-the-sampling-interval"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#adjusting-the-sampling-interval"}},[s._v("#")]),s._v(" Adjusting the Sampling Interval")]),s._v(" "),e("ul",[e("li",[s._v('The timechart command "buckets" the values of the _time field\n'),e("ul",[e("li",[s._v("This provides dynamic sampling intervals, based upon the time range of the search")])])]),s._v(" "),e("li",[s._v("Example defaults:\n"),e("ul",[e("li",[s._v("Last 60 minutes uses span=1m")]),s._v(" "),e("li",[s._v("Last 24 hours uses span=30m")])])]),s._v(" "),e("li",[s._v("Adjust the interval using the span argument, e.g. span=15m")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure vendor_action"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" timechart span"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("m count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vendor_action\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* other settings:\n\n    Trellis Layout - \n    • Display multiple charts based on one result set\n    • Allows visual comparison between different categories\n    • Data only fetched once\n    \n    Visualization Formatting   【图表菜单里的各种设置】\n    \t...\n    \tChart Overlay  \n    \t... \n*/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchase "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vendor_sales"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" timechart span"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("h "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" sourcetype\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" access_combined "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" webSales"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" vendor_sales "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" retailSales\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("h3",{attrs:{id:"transforming-command-summary"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transforming-command-summary"}},[s._v("#")]),s._v(" Transforming Command Summary")]),s._v(" "),e("p",[e("strong",[s._v("some comparation")])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("Feature")]),s._v(" "),e("th",[s._v("stats")]),s._v(" "),e("th",[s._v("chart")]),s._v(" "),e("th",[s._v("timechart")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("Multi-level breakdown [by clause]")]),s._v(" "),e("td",[s._v("Many")]),s._v(" "),e("td",[s._v("2")]),s._v(" "),e("td",[s._v("1")])]),s._v(" "),e("tr",[e("td",[s._v("Limit # series shown")]),s._v(" "),e("td",[s._v("NA")]),s._v(" "),e("td",[s._v("limit="),e("em",[s._v("n")]),s._v(" "),e("em",[s._v("Default=10")])]),s._v(" "),e("td",[s._v("limit="),e("em",[s._v("n")]),s._v(" "),e("em",[s._v("Default=10")])])]),s._v(" "),e("tr",[e("td",[s._v("Filter other series")]),s._v(" "),e("td",[s._v("NA")]),s._v(" "),e("td",[s._v("useother=f")]),s._v(" "),e("td",[s._v("useother=f")])]),s._v(" "),e("tr",[e("td",[s._v("Filter null values")]),s._v(" "),e("td",[s._v("NA")]),s._v(" "),e("td",[s._v("usenull=f")]),s._v(" "),e("td",[s._v("usenull=f")])]),s._v(" "),e("tr",[e("td",[s._v("Set time value on x axis")]),s._v(" "),e("td",[s._v("NA")]),s._v(" "),e("td",[s._v("NA")]),s._v(" "),e("td",[s._v("span")])])])]),s._v(" "),e("p",[e("strong",[s._v("To count the frequency of a field(s), use top/rare")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("top")]),s._v(" src_ip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" vendor_action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" app\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" rare src_ip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" vendor_action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" app\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("strong",[s._v("Use stats to calculate statistics for two or more by fields (non time-based)")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" src_ip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" vendor_action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" app\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("To calculate statistics with an arbitrary field as the x-axis (not _time), use chart")])]),s._v(" "),e("ul",[e("li",[s._v("When you use a by field, the output is a table")]),s._v(" "),e("li",[s._v("Each column represents a distinct value of the split-by field")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" src_ip\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" vendor_action\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("strong",[s._v("Use timechart to calculate statistics with _time as the x-axis")])]),s._v(" "),e("ul",[e("li",[s._v("If a by field is used, the output is a table")]),s._v(" "),e("li",[s._v("Each column represents a distinct value of the split-by field")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  timechart span"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("h count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" itemId "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("limit")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" useother"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("f\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"advanced-visualizations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#advanced-visualizations"}},[s._v("#")]),s._v(" Advanced Visualizations")]),s._v(" "),e("h3",{attrs:{id:"trendline-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#trendline-command"}},[s._v("#")]),s._v(" trendline Command")]),s._v(" "),e("ul",[e("li",[s._v("Allows you to overlay a computed moving average on a chart")]),s._v(" "),e("li",[s._v("trendline computes the moving averages of a field"),e("br"),s._v(" "),e("code",[s._v("trendline <trendtype><period>(field) [AS newfield]")]),s._v(" "),e("blockquote",[e("p",[e("em",[s._v("trendtype")]),s._v(":")]),s._v(" "),e("p",[s._v("– sma - simple moving average"),e("br"),s._v("– ema - exponential moving average"),e("br"),s._v("– wma - weighted moving average")])])]),s._v(" "),e("li",[s._v("Must define the period over which to compute the trend")]),s._v(" "),e("li",[s._v("period must be an integer between 2 and 10000\n"),e("ul",[e("li",[s._v("For example, "),e("code",[s._v("sma2(sales)")]),s._v("is valid")]),s._v(" "),e("li",[s._v("But "),e("code",[s._v("sma(sales)")]),s._v(" would fail as it is missing an integer, the defining period")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchase "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" timechart span"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("h "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" sales\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" trendline sma2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sales"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" trend\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"iplocation-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iplocation-command"}},[s._v("#")]),s._v(" iplocation Command")]),s._v(" "),e("ul",[e("li",[s._v("Use iplocation to look up and add location information to an event\n"),e("ul",[e("li",[s._v("This information includes "),e("code",[s._v("city")]),s._v(","),e("code",[s._v("country")]),s._v(","),e("code",[s._v("region")]),s._v(","),e("code",[s._v("latitude")]),s._v(" and "),e("code",[s._v("longitude")])])])]),s._v(" "),e("li",[s._v("Not all of the information is available for all ip address ranges")]),s._v(" "),e("li",[s._v("Automatically defines the default lat and lon fields required by "),e("code",[s._v("geostats")]),s._v(" （自动产生geostats命令所需要的经度、纬度）")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fail"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" invalid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" iplocation src_ip\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"geostats-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#geostats-command"}},[s._v("#")]),s._v(" geostats Command")]),s._v(" "),e("ul",[e("li",[s._v("Use geostats to compute statistical functions and render a cluster map "),e("br"),s._v(" "),e("code",[s._v("geostats [latfield=string] [longfield=string] [stats-agg- term]* [by-clause]")])]),s._v(" "),e("li",[s._v("Data must include latitude and longitude values")]),s._v(" "),e("li",[s._v("Define the latfield and longfield only if they differ from the default lat and lon fields")]),s._v(" "),e("li",[s._v("To control the column count:\n"),e("ul",[e("li",[s._v("On a global level, use the globallimit argument")]),s._v(" "),e("li",[s._v("On a local level, depending on where your focus is (i.e., where you’ve zoomed in), use the locallimit argument")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fail"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" invalid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" iplocation src_ip\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" geostats globallimit"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"choropleth-map"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#choropleth-map"}},[s._v("#")]),s._v(" Choropleth Map")]),s._v(" "),e("ul",[e("li",[s._v("Uses shading to show relative metrics, such as sales, network intruders, etc. for predefined geographic regions")]),s._v(" "),e("li",[s._v("To define regional boundaries, you must have either a:\n"),e("ul",[e("li",[s._v("KML (Keyhole Markup Language) file")]),s._v(" "),e("li",[s._v("KMZ (compressed Keyhole Markup Language) file")])])]),s._v(" "),e("li",[s._v("Splunk ships with:\n"),e("ul",[e("li",[s._v("geo_us_states, United States")]),s._v(" "),e("li",[s._v("geo_countries, countries of the world")])])])]),s._v(" "),e("p",[e("code",[s._v("...| geom [*featureCollection*] [featureIdField=*string*]")])]),s._v(" "),e("h3",{attrs:{id:"geom-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#geom-command"}},[s._v("#")]),s._v(" geom Command")]),s._v(" "),e("blockquote",[e("p",[s._v("Display the previous week’s retail sales in EMEA.")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vendor_sales\nVendorID "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4999")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" VendorID "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6000")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Sales "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" VendorCountry\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" geom geo_countries featureIdField"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("VendorCountry\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"viewing-results-as-a-single-value"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#viewing-results-as-a-single-value"}},[s._v("#")]),s._v(" Viewing Results as a Single Value")]),s._v(" "),e("blockquote",[e("p",[s._v("some examples - you can change the format in the configuration options")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure vendor_action"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("failed\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats count\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchase\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" count\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" gauge count "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("15000")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fail"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" invalid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vendor_action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fail"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" invalid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" src_ip \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("count\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fail"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" invalid"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats count\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"single-value-visualizations-timechart"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#single-value-visualizations-timechart"}},[s._v("#")]),s._v(" Single Value Visualizations: timechart")]),s._v(" "),e("ul",[e("li",[s._v("With the timechart command, you can add a sparkline and a trend")]),s._v(" "),e("li",[s._v("A "),e("strong",[s._v("sparkline")]),s._v(" is an inline chart\n"),e("ul",[e("li",[s._v("It is designed to display time- based trends associated with the primary key")])])]),s._v(" "),e("li",[s._v("The "),e("strong",[s._v("trend")]),s._v(" shows the direction in which values are moving\n"),e("ul",[e("li",[s._v("It appears to the right of the single value")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure \nfail"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" invalid\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" timechart span"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("m "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vendor_action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"100%",display:"block"},attrs:{src:a(442),alt:"",align:"left"}})]),s._v(" "),e("h3",{attrs:{id:"adding-totals-auto-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#adding-totals-auto-command"}},[s._v("#")]),s._v(" Adding Totals (Auto & Command)")]),s._v(" "),e("h4",{attrs:{id:"using-format-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-format-options"}},[s._v("#")]),s._v(" Using Format Options")]),s._v(" "),e("blockquote",[e("p",[s._v("选择 statistic -> Format -> Summary  打开 Totals/Percentages")]),s._v(" "),e("p",[s._v("此方法会自动对所有column添加 totals/百分比， 无法定制化")])]),s._v(" "),e("ul",[e("li",[s._v("Automatically total every column using the Format options")]),s._v(" "),e("li",[s._v("When using this approach, you:\n"),e("ul",[e("li",[s._v("Cannot indicate which column to total; all columns are always totaled")]),s._v(" "),e("li",[s._v("Cannot add labels")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" avgBytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" totalEvents "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" host\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h4",{attrs:{id:"using-addtotals-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-addtotals-command"}},[s._v("#")]),s._v(" Using addtotals Command")]),s._v(" "),e("ul",[e("li",[s._v("Alternatively, use the addtotals command to:\n"),e("ul",[e("li",[s._v("Compute the sum of all "),e("strong",[s._v("or selected")]),s._v(" numeric fields for each column and place the total in the last row")]),s._v(" "),e("li",[s._v("Compute the sum of all "),e("strong",[s._v("or selected")]),s._v(" numeric fields for each "),e("strong",[s._v("row")]),s._v(" and place the total in the last column")])])])]),s._v(" "),e("p",[e("code",[s._v("addtotals [row=*bool*] [fieldname=*field*] [col=*bool*][labelfield=*field*] [label=*string*] *field-list*")])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[e("strong",[s._v("Row Options")])]),s._v(" "),e("th",[e("strong",[s._v("Row Options")])]),s._v(" "),e("th",[e("strong",[s._v("Column Options")])]),s._v(" "),e("th",[e("strong",[s._v("Column Options")])])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("row=true/false (Default= true)")]),s._v(" "),e("td",[s._v("A column is created that contains numeric totals for each row.")]),s._v(" "),e("td",[s._v("col=true/false (Default= false)")]),s._v(" "),e("td",[s._v("A row is created that contains numeric totals for each column.")])]),s._v(" "),e("tr",[e("td",[s._v("fieldname="),e("em",[s._v("field")]),s._v(" (Default=Total)")]),s._v(" "),e("td",[s._v("Defines a string used to create a field name for the totals column.")]),s._v(" "),e("td",[s._v("label="),e("em",[s._v("string")]),s._v(" (Default=Total)")]),s._v(" "),e("td",[s._v("Defines a string used to name the totals row.")])]),s._v(" "),e("tr",[e("td"),s._v(" "),e("td"),s._v(" "),e("td",[s._v("labelfield= "),e("em",[s._v("fieldname")])]),s._v(" "),e("td",[s._v("Defines where the label string is placed. (Generally, you should make this the first column.)")])])])]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[e("strong",[s._v("General Options")])]),s._v(" "),e("th",[e("strong",[s._v("General Options")])])])]),s._v(" "),e("tbody",[e("tr",[e("td",[e("em",[s._v("field-list")]),s._v("=one or more numeric fields. (Default: all numeric fields)")]),s._v(" "),e("td",[s._v("Defines the numeric fields to be totaled.")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("Examples:  (具体参考官方pdf： "),e("a",{attrs:{href:"http://heyan.site/download/Splunk%207.X%20Fundamentals%20Part%202%20%28IOD%29-unlock.pdf",target:"_self",rel:"noopener noreferrer"}},[s._v("Splunk 7.X Fundamentals Part 2 (IOD)-unlock.pdf")]),s._v(")")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vendor_sales\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" product_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" VendorCountry\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" addtotals\nfieldname"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Total Per Product"')]),s._v(" \ncol"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("t \nlabel"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Total Per Country"')]),s._v(" labelfield"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("product_name\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("ul",[e("li",[s._v('row=t (default) counts the fields in each row under a column named "Total Per Product”')]),s._v(" "),e("li",[s._v('col=t counts the fields in each row in a row named "Total Per Country"')])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" avgBytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tcount "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" totalEvents "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" host\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" addtotals "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("row")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("f "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("A"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" col"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("t "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("B"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" label"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("totalBytes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("C"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\tlabelfield"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("host "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("D"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" Bytes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("E"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\t\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// *A* *B* ... 是注释序号 ")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("ul",[e("li",[s._v("A - Do not total rows")]),s._v(" "),e("li",[s._v("B - Total columns")]),s._v(" "),e("li",[s._v("C - Add the label totalBytes")]),s._v(" "),e("li",[s._v("D - Place the label under the host column")]),s._v(" "),e("li",[s._v("E - Only total the Bytes column")])]),s._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"100%",display:"block"},attrs:{src:a(443),alt:"",align:"left"}})]),s._v(" "),e("h2",{attrs:{id:"filtering-and-formatting-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#filtering-and-formatting-data"}},[s._v("#")]),s._v(" Filtering and Formatting Data")]),s._v(" "),e("h3",{attrs:{id:"eval-command-overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-command-overview"}},[s._v("#")]),s._v(" eval Command (overview)")]),s._v(" "),e("ul",[e("li",[s._v("eval allows you to calculate and manipulate field values in your report"),e("br"),e("code",[s._v("eval *fieldname1* = *expression1 [, fieldname2 = expression2...]*")])]),s._v(" "),e("li",[s._v("Supports a variety of functions")]),s._v(" "),e("li",[s._v("Results of eval written to either new or existing field you specify\n"),e("ul",[e("li",[s._v("If the destination field exists, the values of the field are replaced by the results of eval")]),s._v(" "),e("li",[s._v("Indexed data is not modified, and no new data is written into the index")]),s._v(" "),e("li",[s._v("Field values are treated in a case-sensitive manner")])])]),s._v(" "),e("li",[s._v("The eval command allows you to:\n"),e("ul",[e("li",[s._v("Calculate expressions")]),s._v(" "),e("li",[s._v("Place the results in a field")]),s._v(" "),e("li",[s._v("Use that field in searches or other expressions")])])]),s._v(" "),e("li",[s._v("Type & Operators\n"),e("ul",[e("li",[s._v("Arithmetic "),e("code",[s._v("+ - * / %")])]),s._v(" "),e("li",[s._v("Concatenation "),e("code",[s._v("+ .")])]),s._v(" "),e("li",[s._v("Boolean "),e("code",[s._v("AND OR NOT XOR")])]),s._v(" "),e("li",[s._v("Comparison "),e("code",[s._v("< > <= >= != = == LIKE")])])])])]),s._v(" "),e("h3",{attrs:{id:"eval-command-–-convert-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-command-–-convert-values"}},[s._v("#")]),s._v(" eval Command – Convert Values")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cisco_wsa_squid \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sc_bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Bytes "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("usage")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval bandwidth "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Bytes"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("blockquote",[e("p",[s._v("In this example:")]),s._v(" "),e("ul",[e("li",[s._v("Calculate the number of bytes for each usage type")]),s._v(" "),e("li",[s._v('Create a new field named "bandwidth"')]),s._v(" "),e("li",[s._v("Convert the values of the Bytes field into MB by dividing Bytes field values by (1024*1024)")])])]),s._v(" "),e("h3",{attrs:{id:"eval-command-–-round-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-command-–-round-values"}},[s._v("#")]),s._v(" eval Command – Round Values")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cisco_wsa_squid\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sc_bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Bytes "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("usage")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval bandwidth "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("round")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Bytes"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("bandwidth\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" bandwidth "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Bandwidth (MB)"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[e("strong",[s._v("Removing Fields")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cisco_wsa_squid\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sc_bytes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Bytes "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("usage")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval bandwidth "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("round")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Bytes"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("bandwidth\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" bandwidth "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Bandwidth (MB)"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fields")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" Bytes\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"eval-command-–-calculating-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-command-–-calculating-values"}},[s._v("#")]),s._v(" eval Command – Calculating Values")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined product_name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchase\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" tp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sale_price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" tsp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval Discount "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("round")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tp "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" tsp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" tp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("Discount\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval Discount "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Discount"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" tp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Total List Price"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" tsp "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Total Sale Price"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" product_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Product\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"eval-command-–-tostring-function"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-command-–-tostring-function"}},[s._v("#")]),s._v(" eval Command – tostring Function")]),s._v(" "),e("ul",[e("li",[s._v("tostring converts a numeric field value to a string "),e("br"),s._v(" "),e("code",[s._v('tostring(field,"*option*")')])]),s._v(" "),e("li",[s._v("Options:\n"),e("ul",[e("li",[s._v('"commas": applies commas\n'),e("ul",[e("li",[s._v("If the number includes decimals, it rounds to two decimal places")])])]),s._v(" "),e("li",[s._v('"duration": formats the number as "hh:mm:ss"')]),s._v(" "),e("li",[s._v('"hex": formats the number in hexadecimal')])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchase "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" NumberOfLostSales"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" AverageLostSales"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" TotalLostRevenue\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval AverageLostSales "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AverageLostSales"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commas"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  TotalLostRevenue "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TotalLostRevenue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commas"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("blockquote",[e("p",[s._v("with duration option")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats range"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("_time"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" sessionTime "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" JSESSIONID "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sessionTime\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval duration "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sessionTime"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"duration"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"eval-example-formatting-and-sorting-values"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-example-formatting-and-sorting-values"}},[s._v("#")]),s._v(" eval Example - Formatting and Sorting Values")]),s._v(" "),e("ul",[e("li",[s._v("eval with added characters converts numeric field values to strings")]),s._v(" "),e("li",[s._v("To order numerically, first sort, then use eval")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined price"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" price "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("price\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval price "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("price\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"eval-commands-with-multiple-expressions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-commands-with-multiple-expressions"}},[s._v("#")]),s._v(" eval Commands with Multiple Expressions")]),s._v(" "),e("ul",[e("li",[s._v("Multiple expressions can be combined into one eval command")]),s._v(" "),e("li",[s._v("Each subsequent expression references the results of previous expressions")]),s._v(" "),e("li",[s._v("Expressions must be separated by commas")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("eval fieldname1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" expression1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\t\t fieldname2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" expression2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n     fieldname3 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" expression3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("em",[s._v("example")]),s._v(":")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined price"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" list_price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sale_price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" current_sale_price "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval current_discount "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("round")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("list_price – current_sale_price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("list_price"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tnew_discount "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("current_discount "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tnew_sale_price "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" list_price "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("list_price "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("new_discount"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"eval-command-–-if-function-syntax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-command-–-if-function-syntax"}},[s._v("#")]),s._v(" eval Command – if Function Syntax")]),s._v(" "),e("p",[e("code",[s._v("if(*X*,*Y*,*Z*)")])]),s._v(" "),e("ul",[e("li",[s._v("The if function takes three arguments")]),s._v(" "),e("li",[s._v("Thefirstargument,X, isaBooleanexpression\n"),e("ul",[e("li",[s._v("If it evaluates to TRUE, the result evaluates to the second argument, Y")]),s._v(" "),e("li",[s._v("If it evaluates to FALSE, the result evaluates to the third argument, Z")])])]),s._v(" "),e("li",[s._v('Non-numeric values must be enclosed in "double quotes" • Field values are treated in a case-sensitive manner')])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("example:\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vendor_sales\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval SalesTerritory "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" TotalRevenue "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" SalesTerritory\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval TotalRevenue "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TotalRevenue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commas"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"eval-command-–-case-function"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-command-–-case-function"}},[s._v("#")]),s._v(" eval Command – case Function")]),s._v(" "),e("p",[e("code",[s._v("case(X1,Y1,X2,Y2...)")])]),s._v(" "),e("ul",[e("li",[s._v("Thefirstargument,X1, isaBooleanexpression")]),s._v(" "),e("li",[s._v("If it evaluates to TRUE, the result evaluates to Y1")]),s._v(" "),e("li",[s._v("If it evaluates to FALSE, the next Boolean expression, X2, is evaluated, etc.")]),s._v(" "),e("li",[s._v("If you want an “otherwise” clause, just test for a condition you know is true at the end (e.g., 0=0)")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval rating "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("productId "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"WC%"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Teen"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" productId "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"FS%"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Mature"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('", 0=0, "')]),s._v('Unrated"'),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"eval-function"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eval-function"}},[s._v("#")]),s._v(" eval function")]),s._v(" "),e("ul",[e("li",[s._v("Used within a transforming command, such as stats")]),s._v(" "),e("li",[s._v("Requires an as clause")]),s._v(" "),e("li",[s._v("Double quotes are required for character field values")]),s._v(" "),e("li",[s._v("Field values are case-sensitive")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure vendor_action"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("eval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vendor_action"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Accepted"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Accepted"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("eval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vendor_action"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Failed"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Failed"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("eval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vendor_action"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"session opened"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" SessionOpened\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"filtering-results-–-search-and-where"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#filtering-results-–-search-and-where"}},[s._v("#")]),s._v(" Filtering Results – search and where")]),s._v(" "),e("ul",[e("li",[s._v("The search and where commands both filter results\n"),e("ul",[e("li",[s._v("search\n"),e("ul",[e("li",[s._v("May be easier if you’re familiar with basic search syntax")]),s._v(" "),e("li",[s._v("Treats field values in a case-insensitive manner")]),s._v(" "),e("li",[s._v("Allows searching on keyword")]),s._v(" "),e("li",[s._v("Can be used at any point in the search pipeline")])])]),s._v(" "),e("li",[s._v("where\n"),e("ul",[e("li",[s._v("Can compare values from two different fields")]),s._v(" "),e("li",[s._v("Functions are available, such as isnotnull()")]),s._v(" "),e("li",[s._v("Treats field values in a case-sensitive manner")]),s._v(" "),e("li",[s._v("Can’t appear before first pipe in search pipeline")])])])])])]),s._v(" "),e("h3",{attrs:{id:"search-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#search-command"}},[s._v("#")]),s._v(" search Command")]),s._v(" "),e("ul",[e("li",[s._v("To filter results, use search at any point in the search pipeline")]),s._v(" "),e("li",[s._v("Behaves exactly like search strings before the first pipe\n"),e("ul",[e("li",[s._v('Uses the "*" wildcard')]),s._v(" "),e("li",[s._v("Treats field values in a case-insensitive manner")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchase "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" sales "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" search sales"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort –sales\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval sales"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("sales\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" sales "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Popular Products"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  product_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Product Name"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"where-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#where-command"}},[s._v("#")]),s._v(" where Command")]),s._v(" "),e("p",[e("code",[s._v("where eval-expression")])]),s._v(" "),e("ul",[e("li",[s._v("Uses same expression syntax as eval command")]),s._v(" "),e("li",[s._v("Uses boolean expressions to filter search results and only keeps results that are True\n"),e("ul",[e("li",[s._v("Double quoted strings are interpreted as field values")])])]),s._v(" "),e("li",[s._v("Treats field values in a case-sensitive manner\n"),e("ul",[e("li",[s._v("Unquoted or single-quoted strings are treated as fields")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" timechart "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("eval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"changequantity"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" changes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("eval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"remove"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" removals\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" removals "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" changes\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"where-command-with-like-operator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#where-command-with-like-operator"}},[s._v("#")]),s._v(" where Command With like Operator")]),s._v(" "),e("ul",[e("li",[s._v("Can do wildcard searches with where command")]),s._v(" "),e("li",[s._v("Use (_) for one character and (%) for multiple characters")]),s._v(" "),e("li",[s._v("Must use the like operator with wildcards")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" src_ip\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" src_ip "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"10_.%"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"fillnull-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fillnull-command"}},[s._v("#")]),s._v(" fillnull Command")]),s._v(" "),e("ul",[e("li",[s._v("Use fillnull to replace null values in fields")]),s._v(" "),e("li",[s._v("Use value=string to specify a string you want displayed instead "),e("br"),s._v(" Example: "),e("code",[s._v("fillnull value=NULL")])]),s._v(" "),e("li",[s._v("If no value= clause, "),e("strong",[s._v("default replacement value is 0")])]),s._v(" "),e("li",[s._v("Optionally, restrict which fields fillnull apply to by listing them at end of command"),e("br"),s._v("Example: "),e("code",[s._v("fillnull VALUE=“N/A” discount refund")])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" vendor_sales\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" product_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" VendorCountry\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" fillnull\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// null will be replaced as default value 0")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("sales sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" vendor_sales\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("over")]),s._v(" product_name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" VendorCountry\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" fillnull "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"No Value"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h2",{attrs:{id:"correlating-events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#correlating-events"}},[s._v("#")]),s._v(" Correlating Events")]),s._v(" "),e("h3",{attrs:{id:"what-is-a-transaction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-is-a-transaction"}},[s._v("#")]),s._v(" What is a Transaction?")]),s._v(" "),e("ul",[e("li",[s._v("A transaction is any group of related events that span time")]),s._v(" "),e("li",[s._v("Events can come from multiple applications or hosts\n"),e("ul",[e("li",[s._v("Events related to a single purchase from an online store can span across an application server, database, and e-commerce engine")]),s._v(" "),e("li",[s._v("One email message can create multiple events as it travels through various queues")]),s._v(" "),e("li",[s._v("Each event in the network traffic logs represents a single user generating a single http request")]),s._v(" "),e("li",[s._v("Visiting a single website normally generates multiple http requests\n"),e("ul",[e("li",[s._v("HTML, JavaScript, CSS files")]),s._v(" "),e("li",[s._v("Flash, images, etc.")])])])])])]),s._v(" "),e("h3",{attrs:{id:"transaction-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transaction-command"}},[s._v("#")]),s._v(" transaction Command")]),s._v(" "),e("ul",[e("li",[s._v("transaction "),e("code",[s._v("field-list")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("field-list")]),s._v(" "),e("strong",[s._v("can be one field name or a list of field names")])]),s._v(" "),e("li",[s._v("Events are "),e("strong",[s._v("grouped")]),s._v(" into transactions based on the values of these fields (结果自动被group了)")]),s._v(" "),e("li",[s._v("If multiple fields are specified and a relationship exists between those fields, events with related field values are grouped into a single transaction")])])]),s._v(" "),e("li",[s._v("Common constraints: "),e("br"),s._v(" "),e("code",[s._v("maxspan")]),s._v(" "),e("code",[s._v("maxpause")]),s._v(" "),e("code",[s._v("startswith")]),s._v(" "),e("code",[s._v("endswith")])])]),s._v(" "),e("p",[e("em",[s._v("example")]),s._v(":")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" JSESSIONID\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" JSESSIONID\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" search "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" highlight JSESSIONID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//– search uses the "*" wildcard and treats field values in a case-insensitive manner')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//– status=404 finds the errors – highlight highlights the terms you specify")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure failed\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" src_ip\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 结果会根据 src_ip 进行分组显示")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"transaction-command-–-specific-fields"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transaction-command-–-specific-fields"}},[s._v("#")]),s._v(" transaction Command – Specific Fields")]),s._v(" "),e("p",[s._v("The transaction command produces additional fields, such as:")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("duration")]),s._v(" – the difference between the timestamps for the first and last event in the transaction")]),s._v(" "),e("li",[e("strong",[s._v("eventcount")]),s._v(" – the number of events in the transaction")])]),s._v(" "),e("h3",{attrs:{id:"transaction-command-–-maxspan-maxpause"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transaction-command-–-maxspan-maxpause"}},[s._v("#")]),s._v(" transaction Command – maxspan/maxpause")]),s._v(" "),e("p",[s._v("You can also define a max overall time span and max gap between events")]),s._v(" "),e("ul",[e("li",[s._v("maxspan=10m\n"),e("ul",[e("li",[s._v("Maximum total time between the "),e("em",[s._v("earliest")]),s._v(" and "),e("em",[s._v("latest")]),s._v(" events")]),s._v(" "),e("li",[s._v("If not specified, default is -1 (or no limit)")])])]),s._v(" "),e("li",[s._v("maxpause=1m\n"),e("ul",[e("li",[s._v("Maximum total time "),e("em",[s._v("between")]),s._v(" events")]),s._v(" "),e("li",[s._v("If not specified, default is -1 (or no limit)")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Assumptions: Transactions spanning more than 10 minutes with the same client IP are considered unrelated. ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Also, there can be no more than one minute between any two related events.")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" clientip maxspan"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("m maxpause"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("m\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval duration "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("duration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"duration"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("duration\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" clientip duration "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v("  clientip "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Client IP"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Client Actions"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h3",{attrs:{id:"transaction-command-–-startswith-endswith"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transaction-command-–-startswith-endswith"}},[s._v("#")]),s._v(" transaction Command – startswith/endswith")]),s._v(" "),e("ul",[e("li",[s._v("To form transactions based on terms, field values, or evaluations, use startswith and endswith options")]),s._v(" "),e("li",[s._v("In this example:\n"),e("ul",[e("li",[s._v("The first event in the transaction includes addtocart")]),s._v(" "),e("li",[s._v("The last event includes purchase")])])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Scenario: ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Determine the length of time spent to complete a purchase by customers in the online store over the last 24 hours.")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" clientip JSESSIONID\n  startswith"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"addtocart"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  endswith"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eval"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"purchase"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" clientip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" JSESSIONID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" duration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" eventcount\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"transaction-sample-case-investigating-with-transactions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transaction-sample-case-investigating-with-transactions"}},[s._v("#")]),s._v(" transaction sample case - Investigating with Transactions")]),s._v(" "),e("blockquote",[e("ul",[e("li",[s._v("Transactions can be useful when a single event does not provide enough information")]),s._v(" "),e("li",[s._v("This example searches email logs for the term “REJECT” "),e("br"),s._v(" "),e("code",[s._v("index=network sourcetype=cisco_esa REJECT")])]),s._v(" "),e("li",[s._v("Events that include the term do not provide much information about the rejection")]),s._v(" "),e("li",[s._v("By creating a transaction, you can then search and see additional events related to the rejection, such as:\n"),e("ul",[e("li",[s._v("IP address of sender")]),s._v(" "),e("li",[s._v("Reverse DNS lookup results")]),s._v(" "),e("li",[s._v("Action taken by the mail system following the rejection")])])]),s._v(" "),e("li",[s._v("mid – Message ID")]),s._v(" "),e("li",[s._v("dcid – Delivery Connection ID")]),s._v(" "),e("li",[s._v("icid – Incoming Connection")])])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果直接如上搜索REJECT - 单个event不能提供更多的有效信息。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 所以可以先根据一些关键信息进行有效分组，再搜索关键字，如下")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cisco_esa\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" mid dcid icid\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" search REJECT\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"transaction-sample-case-reporting-on-transactions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transaction-sample-case-reporting-on-transactions"}},[s._v("#")]),s._v(" transaction sample case - Reporting on Transactions")]),s._v(" "),e("p",[e("em",[s._v("Scenario: Create a chart to show the number of purchase transactions based on their duration.")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("purchase\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" clientip maxspan"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("m\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" chart count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" duration span"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("log2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"transaction-vs-stats"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transaction-vs-stats"}},[s._v("#")]),s._v(" transaction vs. stats")]),s._v(" "),e("ul",[e("li",[s._v("When you have a choice, use stats—"),e("strong",[s._v("it’s faster and more efficient, especially in large Splunk environments")])]),s._v(" "),e("li",[s._v("Only use transaction when you:\n"),e("ul",[e("li",[s._v("Need to "),e("strong",[s._v("see events correlated together")]),s._v(" （需要看"),e("code",[s._v("correlate events")]),s._v("的时候）")]),s._v(" "),e("li",[e("strong",[s._v("Must define event grouping based on start/end values or segment on time")])])])]),s._v(" "),e("li",[s._v("Use stats when you:\n"),e("ul",[e("li",[s._v("Want to "),e("strong",[s._v("see the results of a calculation")]),s._v(" （只需要看计算结果的时候）")]),s._v(" "),e("li",[s._v("Can group events based on a field value (e.g., by src_ip)")])])]),s._v(" "),e("li",[e("strong",[s._v("By default, there’s a limit of 1,000 events per transaction")]),s._v(" "),e("ul",[e("li",[s._v("No such limit applies to stats")]),s._v(" "),e("li",[s._v("Admins can change limit by configuring max_events_per_bucket in "),e("code",[s._v("limits.conf")])])])])]),s._v(" "),e("p",[e("em",[s._v("Example1")]),s._v(":")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Scenario: Find online purchase transactions over the past year.")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// A:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web\nsourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined earliest"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("y"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@y")]),s._v(" latest"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@y")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" JSESSIONID\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" JSESSIONID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" product_name\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort JSESSIONID\n \n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// B:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("web\nsourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("access_combined\nearliest"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("y"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@y")]),s._v(" latest"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@y")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("action")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"action"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("product_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(' "product_name”\n    '),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" JSESSIONID\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort JSESSIONID\n \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])]),e("blockquote",[e("p",[s._v("• Searches produce same result")]),s._v(" "),e("p",[s._v("• A took 23.381 seconds")]),s._v(" "),e("p",[s._v("• B took 2.077 seconds")]),s._v(" "),e("p",[s._v("• stats faster than transaction")])]),s._v(" "),e("p",[e("em",[s._v("Example2")]),s._v(":")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// A:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security\nsourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure failed\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" src_ip\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" src_ip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" eventcount\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" eventcount\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// B:")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("security\nsourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux_secure failed\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats count "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" eventcount "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" src_ip\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sort "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" eventcount\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\nNote\n1. transaction has a limit of 1,000\n2. Count of transactions vs. count of IPs\n*/")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//结果如下")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])]),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"100%",display:"block"},attrs:{src:a(444),alt:"",align:"left"}})]),s._v(" "),e("h2",{attrs:{id:"introduction-to-knowledge-objects"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introduction-to-knowledge-objects"}},[s._v("#")]),s._v(" Introduction to Knowledge Objects")]),s._v(" "),e("p",[s._v("我们能够在“"),e("strong",[s._v("Settings")]),s._v("”里面看到权限内的“"),e("strong",[s._v("KNOWLEDGE")]),s._v("”,如下")]),s._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"100%",display:"block"},attrs:{src:a(445),alt:"",align:"left"}})]),s._v(" "),e("h3",{attrs:{id:"what-are-knowledge-objects"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-are-knowledge-objects"}},[s._v("#")]),s._v(" What are Knowledge Objects?")]),s._v(" "),e("p",[e("strong",[s._v("Knowledge objects")]),s._v(" are "),e("strong",[s._v("tools")]),s._v(" you use to discover and analyze various aspects of your data (如上图)")]),s._v(" "),e("ul",[e("li",[s._v("Data interpretation – Fields and field extractions")]),s._v(" "),e("li",[s._v("Data classification – Event types")]),s._v(" "),e("li",[s._v("Data enrichment – Lookups and workflow actions")]),s._v(" "),e("li",[s._v("Normalization – Tags and field aliases")]),s._v(" "),e("li",[s._v("Datasets – Data models")])]),s._v(" "),e("p",[e("strong",[s._v("Shareable")]),s._v(" – Can be shared between users")]),s._v(" "),e("p",[e("strong",[s._v("Reusable")]),s._v(" – Persistent objects that can be used by multiple people or apps, such as macros and reports")]),s._v(" "),e("p",[e("strong",[s._v("Searchable")]),s._v(" – Since the objects are persistent, they can be used in a search")]),s._v(" "),e("h3",{attrs:{id:"what-is-a-knowledge-manager"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-is-a-knowledge-manager"}},[s._v("#")]),s._v(" What is a Knowledge Manager?")]),s._v(" "),e("ul",[e("li",[s._v("Oversees knowledge object creation and usage for a group or deployment")]),s._v(" "),e("li",[s._v("Normalizes event data")]),s._v(" "),e("li",[s._v("Creates data models for Pivot users")])]),s._v(" "),e("h3",{attrs:{id:"defining-naming-conventions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#defining-naming-conventions"}},[s._v("#")]),s._v(" Defining Naming Conventions")]),s._v(" "),e("p",[s._v("This course uses simple names for lab exercises, but using a naming convention in your production environment is recommended. For example:")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("Group:")]),s._v(" Corresponds to the working group(s) of the user saving the object (examples: SEG. NEG. OPS. NOC)")]),s._v(" "),e("li",[e("strong",[s._v("Object Type:")]),s._v(" Indicates the type of object (alert, report, summary- index-populating) (examples: Alert, Report, Summary)")]),s._v(" "),e("li",[e("strong",[s._v("Description:")]),s._v(" A meaningful description of the context and intent of the search, limited to one or two words if possible;\nensures the search name is unique")])]),s._v(" "),e("p",[s._v("So, for example: SEG_Alert_WinEventlogFailures")]),s._v(" "),e("h3",{attrs:{id:"reviewing-permissions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reviewing-permissions"}},[s._v("#")]),s._v(" Reviewing Permissions")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}}),s._v(" "),e("th",[e("strong",[s._v("Description")])]),s._v(" "),e("th",[e("strong",[s._v("Create")])]),s._v(" "),e("th",[e("strong",[s._v("Read")])]),s._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("Edit (write)")])])])]),s._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("Private")])]),s._v(" "),e("td",[s._v("Only the person who created the object can use it and edit it")]),s._v(" "),e("td",[s._v("User "),e("br"),s._v("Power "),e("br"),s._v("Admin")]),s._v(" "),e("td",[s._v("Person who created it"),e("br"),s._v("Admin")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("Person who created it"),e("br"),s._v("Admin")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("This app only")])]),s._v(" "),e("td",[s._v("Object persists in the context of a specific app")]),s._v(" "),e("td",[s._v("Power "),e("br"),s._v("Admin")]),s._v(" "),e("td",[s._v("User* "),e("br"),s._v("Power* "),e("br"),s._v("Admin")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("User* "),e("br"),s._v("Power* "),e("br"),s._v("Admin")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("All apps")])]),s._v(" "),e("td",[s._v("Object persists globally across all apps")]),s._v(" "),e("td",[s._v("Admin")]),s._v(" "),e("td",[s._v("User* "),e("br"),s._v("Power* "),e("br"),s._v("Admin")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("User* "),e("br"),s._v("Power* "),e("br"),s._v("Admin")])])])]),s._v(" "),e("p",[s._v("* Permission to read and/or write if creator gives permission to that role")]),s._v(" "),e("p",[s._v("在object创建时，默认权限是给Owner的，我们可以在此时修改设置 - 具体参考文档")]),s._v(" "),e("h3",{attrs:{id:"managing-knowledge-objects"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#managing-knowledge-objects"}},[s._v("#")]),s._v(" Managing Knowledge Objects")]),s._v(" "),e("p",[s._v("可以在 "),e("strong",[s._v("Settings > Knowledge  > All configurations")]),s._v(" 下管理所有的 "),e("code",[s._v("knowledge objects")])]),s._v(" "),e("h2",{attrs:{id:"creating-and-managing-fields"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-and-managing-fields"}},[s._v("#")]),s._v(" Creating and Managing Fields")]),s._v(" "),e("p",[s._v("在 "),e("strong",[s._v("Settings > Knowledge > fields - [Field extractions]")]),s._v(" 下，我们可以创建并管理 fields")]),s._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"100%",display:"block"},attrs:{src:a(446),alt:"",align:"left"}})]),s._v(" "),e("blockquote",[e("p",[s._v("Field Extractor 方法 - Regex / Delimiter")])]),s._v(" "),e("h2",{attrs:{id:"creating-field-aliases-and-calculated-fields"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-field-aliases-and-calculated-fields"}},[s._v("#")]),s._v(" Creating Field Aliases and Calculated Fields")]),s._v(" "),e("p",[e("strong",[s._v("Settings > Knowledge > fields - [Field aliases] / [Calculated fields]")])]),s._v(" "),e("p",[s._v("具体参考官方pdf： "),e("a",{attrs:{href:"http://heyan.site/download/Splunk%207.X%20Fundamentals%20Part%202%20%28IOD%29-unlock.pdf",target:"_self",rel:"noopener noreferrer"}},[s._v("Splunk 7.X Fundamentals Part 2 (IOD)-unlock.pdf")])]),s._v(" "),e("br"),s._v(" "),e("br"),s._v(" "),e("h2",{attrs:{id:"working-with-tags-and-event-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#working-with-tags-and-event-types"}},[s._v("#")]),s._v(" Working with Tags and Event Types")]),s._v(" "),e("p",[s._v("具体参考官方pdf： "),e("a",{attrs:{href:"http://heyan.site/download/Splunk%207.X%20Fundamentals%20Part%202%20%28IOD%29-unlock.pdf",target:"_self",rel:"noopener noreferrer"}},[s._v("Splunk 7.X Fundamentals Part 2 (IOD)-unlock.pdf")])]),s._v(" "),e("br"),s._v(" "),e("br"),s._v(" "),e("h2",{attrs:{id:"creating-and-using-macros"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-and-using-macros"}},[s._v("#")]),s._v(" Creating and Using Macros")]),s._v(" "),e("p",[s._v("具体类似函数，同样可以定义参数")]),s._v(" "),e("p",[e("strong",[s._v("Settings > Advanced search > Search Macros")]),s._v(" > Add new")]),s._v(" "),e("p",[e("em",[s._v("请参考文档查看")]),s._v("：")]),s._v(" "),e("ul",[e("li",[s._v("怎么使用一个基本的macro")]),s._v(" "),e("li",[s._v("怎么添加参数")]),s._v(" "),e("li",[s._v("怎么使用参数（调用）")]),s._v(" "),e("li",[s._v("怎么去验证你的macro")])]),s._v(" "),e("p",[e("em",[s._v("example")]),s._v(":")]),s._v(" "),e("blockquote",[e("p",[s._v("基本使用，example:")]),s._v(" "),e("br"),s._v(" "),e("p",[s._v("定义：")]),s._v(" "),e("p",[s._v("Name: "),e("strong",[s._v("US_sales")])]),s._v(" "),e("p",[s._v("Definition: "),e("br")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vendor_sales VendorCountry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"United States"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" USD "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name \n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval USD "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("'USD’"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commas"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("br"),s._v(" "),e("p",[s._v("使用:  直接在搜索里面输入 带特殊单引号的 macro名字即可"),e("br"),s._v("`"),e("code",[s._v("US_sales")]),s._v("`")])]),s._v(" "),e("blockquote",[e("p",[s._v("带参数的使用，example:")]),s._v(" "),e("br"),s._v(" "),e("p",[s._v("定义：")]),s._v(" "),e("p",[s._v("Name: montly_sales(3)      -- 3 代表参数的个数")]),s._v(" "),e("p",[s._v("Definition:"),e("br")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" USD "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval $currency$ "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$symbol$"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("USD"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("$rate$"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commas"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" USD "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("USD"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commas"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("Arguments:"),e("br"),e("code",[s._v("currency,symbol,rate")])]),s._v(" "),e("br"),s._v(" "),e("p",[s._v("使用："),e("br")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vendor_sales VendorCountry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Germany\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" VendorCountry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("France "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" VendorCountry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Italy\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("monthly_sales"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("euro"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("€"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.79")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("blockquote",[e("p",[s._v("相当于:")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v(" sourcetype"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vendor_sales VendorCountry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Germany \n "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" VendorCountry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("France "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" VendorCountry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Italy "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" \n "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------")]),s._v("\n stats "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("price"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" USD "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" product_name\n "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval euro "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"€"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("USD"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.79")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commas"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" eval USD "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" tostring"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("USD"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commas"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("------")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"creating-and-using-workflow-actions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-and-using-workflow-actions"}},[s._v("#")]),s._v(" Creating and Using Workflow Actions")]),s._v(" "),e("p",[s._v("Execute workflow actions from an event in your search results to interact with external resources or run another search")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("GET")]),s._v(" - retrieve information from an external resource")]),s._v(" "),e("li",[e("strong",[s._v("POST")]),s._v(" - send field values to an external resource")]),s._v(" "),e("li",[e("strong",[s._v("Search")]),s._v(" - use field values to perform a secondary search （新开一个search）")])]),s._v(" "),e("div",{staticStyle:{display:"flex"}},[e("img",{staticStyle:{zoom:"100%",display:"block"},attrs:{src:a(447),alt:"",align:"left"}})]),s._v(" "),e("p",[e("strong",[s._v("create workflow actions:")])]),s._v(" "),e("p",[e("strong",[s._v("Settings > Fields > Workflow actions > New Workflow Action")])]),s._v(" "),e("blockquote",[e("p",[s._v("具体参考官方pdf： "),e("a",{attrs:{href:"http://heyan.site/download/Splunk%207.X%20Fundamentals%20Part%202%20%28IOD%29-unlock.pdf",target:"_self",rel:"noopener noreferrer"}},[s._v("Splunk 7.X Fundamentals Part 2 (IOD)-unlock.pdf")])])]),s._v(" "),e("br"),s._v(" "),e("br"),s._v(" "),e("h2",{attrs:{id:"creating-data-models"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-data-models"}},[s._v("#")]),s._v(" Creating Data Models")]),s._v(" "),e("br"),s._v(" "),e("br"),s._v(" "),e("p",[s._v("to be added")]),s._v(" "),e("br"),s._v(" "),e("br"),s._v(" "),e("h2",{attrs:{id:"using-the-common-information-model-cim-add-on"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-the-common-information-model-cim-add-on"}},[s._v("#")]),s._v(" Using the Common Information Model (CIM) Add-On")]),s._v(" "),e("br"),s._v(" "),e("br"),s._v(" "),e("p",[s._v("to be added")]),s._v(" "),e("br"),s._v(" "),e("br")])}),[],!1,null,null,null);t.default=n.exports}}]);